(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-47b9dfc5"],{"5488d":function(e,t,n){},"5ec7":function(e,t,n){"use strict";var i=n("5488d"),s=n.n(i);s.a},e1ab:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"goods-spec-upsert"},[e._l(e.vlist,(function(t,i){return n("div",{key:i,staticClass:"goods-spec-upsert__item",class:{"is-error":t.error}},[n("div",{staticClass:"goods-spec-upsert__item-label"},[n("el-input",{attrs:{size:"mini",clearable:"",maxlength:"20",placeholder:"规格名称（颜色）"},model:{value:t.label,callback:function(n){e.$set(t,"label",n)},expression:"item.label"}})],1),n("div",{staticClass:"goods-spec-upsert__item-list"},[e._l(t.children,(function(i,s){return n("el-tag",{key:s,attrs:{size:"small",effect:"dark",closable:""},on:{close:function(n){return e.itemRemove(t,s)}}},[e._v(e._s(i))])})),n("div",{staticClass:"goods-spec-upsert__item-add"},[n("el-input",{attrs:{size:"mini",placeholder:"规格属性（白色）"},nativeOn:{keydown:function(n){return!n.type.indexOf("key")&&e._k(n.keyCode,"enter",13,n.key,"Enter")?null:e.itemAdd(t)}},model:{value:t.text,callback:function(n){e.$set(t,"text",n)},expression:"item.text"}}),n("el-button",{attrs:{size:"mini",type:"success",disabled:!t.text},on:{click:function(n){return e.itemAdd(t)}}},[e._v("添加")])],1)],2),n("i",{staticClass:"el-icon-error",on:{click:function(t){return e.remove(i)}}})])})),n("div",{staticClass:"goods-spec-upsert__append"},[n("el-button",{attrs:{size:"mini"},on:{click:e.append}},[e._v("添加规格")]),e.createBtn?n("el-button",{attrs:{disabled:0==e.list.length,size:"mini",type:"success"},on:{click:e.onCreate}},[e._v("立即生成")]):e._e()],1)],2)},s=[],l=(n("caad"),n("d81d"),n("a434"),n("2532"),n("2ef0")),c=n.n(l),r={name:"goods-spec-edit",ref:"goods-spec-edit",props:["createBtn","value"],data:function(){return{list:[]}},watch:{value:{immediate:!0,handler:function(e){this.list=c.a.cloneDeep(e||[])}}},computed:{vlist:function(){return this.list.map((function(e){return e.error=null===e.error?null:!e.label||0===e.children.length,e}))}},methods:{itemAdd:function(e){e.children.includes(e.text)?this.$message.warning("属性已存在"):(e.children.push(e.text),e.text="")},itemRemove:function(e,t){e.children.splice(t,1)},remove:function(e){var t=this;this.$confirm("确认要移除该条规格码？","提示",{type:"warning"}).then((function(){t.list.splice(e,1)}))["catch"]((function(){return null}))},append:function(){this.list.push({label:"",value:"",text:"",children:[],error:null})},clear:function(){this.list=[]},validate:function(){var e=!0;return this.list.map((function(t,n){t.error=!t.label||0===t.children.length,t.error&&(e=!1)})),e?this.list.map((function(e,t){return{label:e.label,value:"spec_".concat(t),children:e.children}})):null},onCreate:function(){var e=this.validate();e?(this.$message.success("生成成功"),this.$emit("create",e)):this.$message.warning("请填写完整")}}},a=r,o=(n("5ec7"),n("2877")),u=Object(o["a"])(a,i,s,!1,null,"732c61ce",null);t["default"]=u.exports}}]);