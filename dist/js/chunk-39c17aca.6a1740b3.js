(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-39c17aca","chunk-2d2288b5"],{da46:function(e,t,a){"use strict";a.r(t),a.d(t,"ticketPackageUserDict",(function(){return l})),a.d(t,"useCcertificationDict",(function(){return r})),a.d(t,"vipLevelDict",(function(){return i})),a.d(t,"zhiyunCardStatusDict",(function(){return o})),a.d(t,"pointsUseDetailTypeDict",(function(){return s})),a.d(t,"goodsTypeDict",(function(){return n})),a.d(t,"orderTypeDict",(function(){return u})),a.d(t,"orderStatusDict",(function(){return c})),a.d(t,"couponTypeDict",(function(){return d}));var l=[{value:0,text:"非套票"},{value:1,text:"基础套票"},{value:2,text:"普通套票"},{value:3,text:"亲子套票"},{value:4,text:"VIP套票"}],r=[{value:0,text:"未认证"},{value:1,text:"已认证"}],i=[{value:0,text:"非会员"},{value:1,text:"白银"},{value:2,text:"白金"},{value:3,text:"钻石"},{value:4,text:"黑金"}],o=[{value:0,text:"非云卡用户"},{value:1,text:"云卡用户"}],s=[{value:1,text:"商城购物"},{value:2,text:"活动打卡"},{value:3,text:"套票充值"},{value:4,text:"远征观赛"},{value:5,text:"商城购物"},{value:6,text:"兑换礼品"}],n=[{value:-1,text:"全部"},{value:0,text:"商城商品"},{value:1,text:"票务商品"},{value:2,text:"积分商品"},{value:3,text:"活动商品"}],u=[{value:0,text:"全部"},{value:1,text:"商城订单"},{value:2,text:"兑换订单"},{value:3,text:"票务订单"}],c=[{value:0,text:"全部"},{value:1,text:"待付款"},{value:2,text:"待发货"},{value:3,text:"待收货"}],d=[{value:-1,text:"全部"},{value:0,text:"满减券"},{value:1,text:"立减券"},{value:2,text:"折扣券"}]},e420:function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("cl-crud",{on:{load:e.onLoad}},[a("el-row",{attrs:{type:"flex",align:"middle"}},[a("cl-search-key",{attrs:{placeholder:"请输入卡券名称"}}),a("cl-flex1"),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){e.addDialogShow=!0}}},[e._v("新增卡券")])],1),a("el-row",[a("cl-table",{attrs:{columns:e.tableColumn},scopedSlots:e._u([{key:"column-op",fn:function(t){t.scope;return[a("el-button",{attrs:{type:"text"},on:{click:function(t){e.detailDialogShow=!0}}},[e._v("详情")])]}}])})],1),a("el-row",{attrs:{type:"flex"}},[a("cl-flex1"),a("cl-pagination")],1),a("el-dialog",{attrs:{title:"新增卡券",visible:e.addDialogShow,width:"900px"},on:{"update:visible":function(t){e.addDialogShow=t}}},[a("el-form",{ref:"ruleForm",attrs:{model:e.addForm,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"卡券名称",prop:"couponName"}},[a("el-input",{model:{value:e.addForm.couponName,callback:function(t){e.$set(e.addForm,"couponName",t)},expression:"addForm.couponName"}})],1),a("el-form-item",{attrs:{label:"卡券类型",prop:"couponType"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.addForm.couponType,callback:function(t){e.$set(e.addForm,"couponType",t)},expression:"addForm.couponType"}},e._l(e.couponTypeDict,(function(t){return t.value>-1?a("el-option",{key:t.value,attrs:{label:t.text,value:t.value}}):e._e()})),1)],1),a("el-form-item",{attrs:{label:"卡券面值(元)",prop:"denominationalValue"}},[a("el-input-number",{attrs:{"controls-position":"right",placeholder:"请输入0-100的数字"},model:{value:e.addForm.denominationalValue,callback:function(t){e.$set(e.addForm,"denominationalValue",t)},expression:"addForm.denominationalValue"}})],1),a("el-form-item",{attrs:{label:"有效时间",prop:"validityPeriodTime"}},[a("el-date-picker",{attrs:{type:"datetimerange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},on:{change:e.validityPeriodTimeChange},model:{value:e.addForm.validityPeriodTime,callback:function(t){e.$set(e.addForm,"validityPeriodTime",t)},expression:"addForm.validityPeriodTime"}})],1),a("el-form-item",{attrs:{label:"选择用户",prop:"userType"}},[a("el-select",{attrs:{placeholder:"请选择"},on:{change:e.userTypeChange},model:{value:e.addForm.userType,callback:function(t){e.$set(e.addForm,"userType",t)},expression:"addForm.userType"}},[a("el-option",{attrs:{label:"全部",value:0}}),a("el-option",{attrs:{label:"指定用户",value:1}}),a("el-option",{attrs:{label:"分组用户",value:2}})],1)],1),1==e.addForm.userType?a("el-form-item",[a("el-transfer",{attrs:{filterable:"","filter-placeholder":"请输入用户手机号",titles:["用户列表","已选用户"],data:e.userList},model:{value:e.addForm.userArgs,callback:function(t){e.$set(e.addForm,"userArgs",t)},expression:"addForm.userArgs"}})],1):e._e(),2==e.addForm.userType?a("div",[a("el-form-item",{attrs:{label:"实名状态"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.userArgs.userCertification,callback:function(t){e.$set(e.userArgs,"userCertification",t)},expression:"userArgs.userCertification"}},e._l(e.useCcertificationDict,(function(e,t){return a("el-option",{key:t,attrs:{label:e.text,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"球迷会"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.userArgs.fanClubId,callback:function(t){e.$set(e.userArgs,"fanClubId",t)},expression:"userArgs.fanClubId"}},[a("el-option",{attrs:{label:"非实名用户",value:0}}),a("el-option",{attrs:{label:"实名用户",value:1}})],1)],1),a("el-form-item",{attrs:{label:"套票类型"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.userArgs.ticketPackageUser,callback:function(t){e.$set(e.userArgs,"ticketPackageUser",t)},expression:"userArgs.ticketPackageUser"}},e._l(e.ticketPackageUserDict,(function(e,t){return a("el-option",{key:t,attrs:{label:e.text,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"会员等级"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.userArgs.vipLevel,callback:function(t){e.$set(e.userArgs,"vipLevel",t)},expression:"userArgs.vipLevel"}},e._l(e.vipLevelDict,(function(e,t){return a("el-option",{key:t,attrs:{label:e.text,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"支云卡状态"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.userArgs.zhiyunCardStatus,callback:function(t){e.$set(e.userArgs,"zhiyunCardStatus",t)},expression:"userArgs.zhiyunCardStatus"}},e._l(e.zhiyunCardStatusDict,(function(e,t){return a("el-option",{key:t,attrs:{label:e.text,value:e.value}})})),1)],1)],1):e._e()],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("确定")]),a("el-button",{on:{click:function(t){return e.resetForm("ruleForm")}}},[e._v("重置")])],1)],1),a("el-dialog",{attrs:{title:"订单详情",visible:e.detailDialogShow,width:"80%"},on:{"update:visible":function(t){e.detailDialogShow=t}}},[a("el-form",{staticClass:"demo-ruleForm",attrs:{"label-width":"100px",inline:!0}},[a("h3",[e._v("消息详情")]),a("div",{staticStyle:{"max-width":"900px"}},[a("el-form-item",{attrs:{label:"订单类型:"}},[a("span",[e._v(e._s(e.detail.orderType))])]),a("el-form-item",{attrs:{label:"订单编号:"}},[a("span",[e._v(e._s(e.detail.orderSN))])]),a("el-form-item",{staticClass:"form-item",attrs:{label:"交易单号:"}},[a("span",[e._v(e._s(e.detail.tradeSN))])]),a("el-form-item",{staticClass:"form-item",attrs:{label:"下单时间"}},[a("span",[e._v(e._s(e.detail.orderTime))])]),a("el-form-item",{staticClass:"form-item",attrs:{label:"收件人:"}},[a("span",[e._v(e._s(e.detail.addresseeName))])]),a("el-form-item",{staticClass:"form-item",attrs:{label:"手机号:"}},[a("span",[e._v(e._s(e.detail.addresseePhoneNum))])]),a("el-form-item",{staticClass:"form-item",attrs:{label:"收件地址:"}},[a("span",[e._v(e._s(e.detail.addresseeAddress))])])],1),a("h3",{staticStyle:{"margin-top":"45px"}},[e._v("商品信息")]),a("div",[a("el-form-item",{staticClass:"form-item",attrs:{label:"商品名称:"}},[a("span",[e._v(e._s(e.detail.commodityName))])]),a("el-form-item",{staticClass:"form-item",attrs:{label:"商品规格:"}},[a("span",[e._v(e._s(e.detail.commodityName))]),a("span",[e._v(e._s(e.detail.commodityName))]),a("span",[e._v(e._s(e.detail.commodityName))]),a("span",[e._v(e._s(e.detail.commodityName))])]),a("el-form-item",{staticClass:"form-item",attrs:{label:"下单数量:"}},[a("span",[e._v(e._s(e.detail.commodityVolume))])])],1),a("h3",{staticStyle:{"margin-top":"45px"}},[e._v("支付信息")]),a("div",[a("el-form-item",{staticClass:"form-item",attrs:{label:"支付方式:"}},[a("span",[e._v(e._s(e.detail.orderMethod))])]),a("el-form-item",{staticClass:"form-item",attrs:{label:"付款时间:"}},[a("span",[e._v(e._s(e.detail.buttonTime))])]),a("el-form-item",{staticClass:"form-item",attrs:{label:"总计金额:"}},[a("span",[e._v(e._s(e.detail.totalPayment))])]),a("el-form-item",{staticClass:"form-item",attrs:{label:"优惠金额:"}},[a("span",[e._v(e._s(e.detail.salePromotion))])]),a("el-form-item",{staticClass:"form-item",attrs:{label:"实付金额:"}},[a("span",[e._v(e._s(e.detail.realPayment))])])],1),a("h3",{staticStyle:{"margin-top":"45px"}},[e._v("物流信息")]),a("div",[a("el-form-item",{staticClass:"form-item",attrs:{label:"发货时间:"}},[a("span",[e._v(e._s(e.detail.deliveryTime))])]),a("el-form-item",{staticClass:"form-item",attrs:{label:"物流方式:"}},[a("span",[e._v(e._s(e.detail.deliveryMethod))])]),a("el-form-item",{staticClass:"form-item",attrs:{label:"物流单号:"}},[a("span",[e._v(e._s(e.detail.deliverySN))])])],1),a("h3",{staticStyle:{"margin-top":"45px"}},[e._v("售后信息")]),a("div",[a("el-form-item",{staticClass:"form-item",attrs:{label:"退款原因:"}},[a("span",[e._v(e._s(e.detail.drawbackReason))])]),a("el-form-item",{staticClass:"form-item",attrs:{label:"申请时间:"}},[a("span",[e._v(e._s(e.detail.applyTime))])]),a("el-form-item",{staticClass:"form-item",attrs:{label:"退款金额:"}},[a("span",[e._v(e._s(e.detail.drawbackAmount))])]),a("el-form-item",{staticClass:"form-item",attrs:{label:"退款编号:"}},[a("span",[e._v(e._s(e.detail.drawbackSN))])]),1==e.detail.drawbackVerify?a("el-form-item",{staticClass:"form-item",attrs:{label:"退款时间:"}},[a("span",[e._v(e._s(e.detail.drawbackTime))])]):e._e()],1)])],1)],1)},r=[],i=a("5530"),o=(a("96cf"),a("1da1")),s=a("da46"),n={data:function(){return{couponTypeDict:s["couponTypeDict"],useCcertificationDict:s["useCcertificationDict"],vipLevelDict:s["vipLevelDict"],ticketPackageUserDict:s["ticketPackageUserDict"],zhiyunCardStatusDict:s["zhiyunCardStatusDict"],detailDialogShow:!1,detail:{},addDialogShow:!1,addForm:{couponName:"",couponType:"",denominationalValue:0,validityPeriodTime:"",validityPeriodStartTime:"",validityPeriodEndTime:""},rules:{couponName:[{required:!0,message:"请输入卡券名称",trigger:"blur"}],couponType:[{required:!0,message:"请选择卡券类型",trigger:"change"}],userType:[{required:!0,message:"请选择用户类型",trigger:"change"}],denominationalValue:[{required:!0,message:"请填写卡券面值",trigger:"blur"}],validityPeriodTime:[{required:!0,message:"请选择有效时间",trigger:"change"}]},userList:[{label:"姓名",key:"13160492228"}],userArgs:{userCertification:0,userType:0,fanClubId:0,ticketPackageUser:0,vipLevel:0,zhiyunCardStatus:0},tableColumn:[{type:"index",align:"center",label:"编号"},{label:"卡券名称",prop:"couponName",align:"center"},{label:"卡券类型",align:"center",filters:s["couponTypeDict"],prop:"couponType"},{label:"面值",prop:"denominationalValue",align:"center"},{label:"有效期开始时间",prop:"validityPeriodStartTime",align:"center"},{label:"有效期结束时间",prop:"validityPeriodEndTime",align:"center"},{label:"发放数量",prop:"addresseeName",align:"center"},{label:"操作",width:200,prop:"op"}]}},methods:{onLoad:function(e){var t=e.ctx,a=e.app;t.service(this.$service.app.coupon).done(),a.refresh()},submitForm:function(e){var t=this;this.$refs[e].validate(function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(a){var l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!a){e.next=13;break}return e.prev=1,l=Object(i["a"])({},t.addForm),e.next=5,t.$service.app.coupon.add(l);case 5:t.$emit("update:addDialogShow",!1),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](1),t.$message.error(e.t0);case 11:e.next=15;break;case 13:return console.log("error submit!!"),e.abrupt("return",!1);case 15:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}())},resetForm:function(e){this.$refs[e].resetFields()},userTypeChange:function(e){console.log(e)},validityPeriodTimeChange:function(e){console.log(e),this.addForm.validityPeriodStartTime=e[0],this.addForm.validityPeriodEndTime=e[1]}}},u=n,c=a("2877"),d=Object(c["a"])(u,l,r,!1,null,null,null);t["default"]=d.exports}}]);