(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b29d43e8","chunk-2d2288b5"],{"13e1":function(e,t,r){},"3c50":function(e,t,r){"use strict";var a=r("13e1"),l=r.n(a);l.a},acb2:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticStyle:{display:"flex","justify-content":"space-between","align-items":"center"}},[e.notEdit?r("el-button",{staticStyle:{"margin-left":"auto"},attrs:{size:"medium",type:"primary",disabled:!1},on:{click:function(t){e.notEdit=!1}}},[e._v("编辑")]):r("el-button-group",{staticStyle:{"margin-left":"auto"}},[r("el-button",{attrs:{size:"medium"},on:{click:function(t){e.notEdit=!0}}},[e._v("取消")]),r("el-button",{attrs:{size:"medium",type:"primary"}},[e._v("保存")])],1)],1),r("el-form",{ref:"ruleForm",staticClass:"form",attrs:{inline:!0,model:e.ruleForm,rules:e.rules,disabled:e.notEdit,"label-width":"100px"}},[r("div",{staticStyle:{"max-width":"900px"}},[r("el-form-item",{staticClass:"form-item",attrs:{label:"头像:",prop:"avatar"}},[r("el-avatar",{attrs:{size:50,src:e.ruleForm.avatar}})],1),r("el-form-item",{attrs:{label:"昵称:",prop:"nickName"}},[r("el-input",{attrs:{placeholder:"请输入用户昵称"},model:{value:e.ruleForm.nickName,callback:function(t){e.$set(e.ruleForm,"nickName",t)},expression:"ruleForm.nickName"}})],1),r("el-form-item",{attrs:{label:"手机号:",prop:"phoneNum"}},[r("el-input",{attrs:{placeholder:"请输入手机号"},model:{value:e.ruleForm.phoneNum,callback:function(t){e.$set(e.ruleForm,"phoneNum",t)},expression:"ruleForm.phoneNum"}})],1),r("el-form-item",{attrs:{label:"微信号:",prop:"weChatAccount"}},[r("el-input",{attrs:{placeholder:"请输入微信账号"},model:{value:e.ruleForm.weChatAccount,callback:function(t){e.$set(e.ruleForm,"weChatAccount",t)},expression:"ruleForm.weChatAccount"}})],1),r("el-form-item",{attrs:{label:"邮箱号:",prop:"email"}},[r("el-input",{attrs:{placeholder:"请输入邮箱"},model:{value:e.ruleForm.email,callback:function(t){e.$set(e.ruleForm,"email",t)},expression:"ruleForm.email"}})],1),r("el-form-item",{attrs:{label:"微博号:",prop:"weiboAccount"}},[r("el-input",{attrs:{placeholder:"请输入微博账号"},model:{value:e.ruleForm.weiboAccount,callback:function(t){e.$set(e.ruleForm,"weiboAccount",t)},expression:"ruleForm.weiboAccount"}})],1)],1),r("span",{staticClass:"title"},[e._v("套票信息")]),r("el-divider"),r("div",{staticStyle:{"max-width":"800px"}},[r("el-form-item",{staticClass:"form-item",attrs:{prop:"ticketPackageNum",label:"套票号:"}},[r("el-input",{attrs:{placeholder:"请输入套票号"},model:{value:e.ruleForm.ticketPackageNum,callback:function(t){e.$set(e.ruleForm,"ticketPackageNum",t)},expression:"ruleForm.ticketPackageNum"}})],1),r("el-form-item",{staticClass:"form-item",attrs:{prop:"ticketPackageUser",label:"套票类型:"}},[r("el-select",{attrs:{placeholder:"请选择套票类型"},model:{value:e.ruleForm.ticketPackageUser,callback:function(t){e.$set(e.ruleForm,"ticketPackageUser",t)},expression:"ruleForm.ticketPackageUser"}},e._l(e.ticketPackageUserDict,(function(e){return r("el-option",{key:e.value,attrs:{label:e.text,value:e.value}})})),1)],1),r("el-form-item",{staticClass:"form-item",attrs:{prop:"fanClubId",label:"球迷会:"}},[r("el-select",{attrs:{placeholder:"请选择球迷会"},model:{value:e.ruleForm.fanClub,callback:function(t){e.$set(e.ruleForm,"fanClub",t)},expression:"ruleForm.fanClub"}},e._l(e.fanClubList,(function(e){return r("el-option",{key:e.id,attrs:{label:e.fanClubName,value:e.value}})})),1)],1),r("el-form-item",{staticClass:"form-item",attrs:{prop:"fanClubRegion",label:"球迷会区域:"}},[r("el-select",{attrs:{placeholder:"请选择球迷会区域"},model:{value:e.ruleForm.fanClubRegion,callback:function(t){e.$set(e.ruleForm,"fanClubRegion",t)},expression:"ruleForm.fanClubRegion"}},e._l(e.fanClubRegionList,(function(e){return r("el-option",{key:e.id,attrs:{label:e.regionName,value:e.id}})})),1)],1)],1),r("span",{staticClass:"title"},[e._v("实名信息")]),r("el-divider"),r("div",{staticStyle:{"max-width":"1200px"}},[r("el-form-item",{staticClass:"form-item",attrs:{prop:"userName",label:"姓名:"}},[r("el-input",{attrs:{placeholder:"请输入姓名"},model:{value:e.ruleForm.userName,callback:function(t){e.$set(e.ruleForm,"userName",t)},expression:"ruleForm.userName"}})],1),r("el-form-item",{staticClass:"form-item",attrs:{prop:"userSex",label:"性别:"}},[r("el-select",{attrs:{placeholder:"请选择性别"},model:{value:e.ruleForm.userSex,callback:function(t){e.$set(e.ruleForm,"userSex",t)},expression:"ruleForm.userSex"}},e._l(e.ticketPackageUserDict,(function(e){return r("el-option",{key:e.value,attrs:{label:e.text,value:e.value}})})),1)],1),r("el-form-item",{staticClass:"form-item",attrs:{prop:"userBirthday",label:"生日:"}},[r("el-date-picker",{attrs:{type:"date",placeholder:"请选择生日"},model:{value:e.ruleForm.userBirthday,callback:function(t){e.$set(e.ruleForm,"userBirthday",t)},expression:"ruleForm.userBirthday"}})],1),r("el-form-item",{staticClass:"form-item",attrs:{prop:"userCertificateType",label:"证件类型:"}},[r("el-select",{attrs:{placeholder:"请选择证件类型"},model:{value:e.ruleForm.userCertificateType,callback:function(t){e.$set(e.ruleForm,"userCertificateType",t)},expression:"ruleForm.userCertificateType"}},e._l(e.ticketPackageUserDict,(function(e){return r("el-option",{key:e.value,attrs:{label:e.text,value:e.value}})})),1)],1),r("el-form-item",{staticClass:"form-item",attrs:{prop:"userCertificateNum",label:"证件号码:"}},[r("el-input",{attrs:{placeholder:"请输入证件号码"},model:{value:e.ruleForm.userCertificateNum,callback:function(t){e.$set(e.ruleForm,"userCertificateNum",t)},expression:"ruleForm.userCertificateNum"}})],1),r("el-form-item",{staticClass:"form-item",attrs:{prop:"userCertificateValidity",label:"有效期:"}},[r("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.ruleForm.userCertificateValidity,callback:function(t){e.$set(e.ruleForm,"userCertificateValidity",t)},expression:"ruleForm.userCertificateValidity"}})],1),r("el-form-item",{staticClass:"form-item",attrs:{prop:"userCertificateAddress",label:"身份证住址:"}},[r("el-input",{staticStyle:{width:"1000px"},attrs:{placeholder:"请输入姓身份证住址"},model:{value:e.ruleForm.userCertificateAddress,callback:function(t){e.$set(e.ruleForm,"userCertificateAddress",t)},expression:"ruleForm.userCertificateAddress"}})],1),r("el-form-item",{staticClass:"form-item",attrs:{label:"附件信息:",prop:"userCertificatePositiveImg"}},[r("span",{staticStyle:{display:"flex","align-items":"center"}},[r("cl-upload",{staticClass:"avatar-uploader",attrs:{value:e.ruleForm.userCertificatePositiveImg,filePath:e.ruleForm.userCertificatePositiveImg,size:[160,252],icon:"el-icon-plus",text:"身份证正面",accept:"*","on-success":e.userCertificatePositiveImgUploadSuccess}}),r("cl-upload",{staticClass:"avatar-uploader",attrs:{value:e.ruleForm.userCertificateNegativeImg,size:[160,252],icon:"el-icon-plus",text:"身份证背面",accept:"*","on-success":e.userCertificateNegativeImgUploadSuccess}}),r("cl-upload",{staticClass:"avatar-uploader",attrs:{value:e.ruleForm.userCertificatePortraitImg,size:[160,252],icon:"el-icon-plus",text:"人像",accept:"*","on-success":e.userCertificatePortraitImgUploadSuccess}})],1)])],1),r("span",{staticClass:"title"},[e._v("积分信息")]),r("el-divider"),r("div",{staticStyle:{"max-width":"800px"}},[r("el-form-item",{staticClass:"form-item",attrs:{label:"会员等级:"}},[r("span",[e._v(e._s(e.vipLevelFormatter(e.ruleForm.vipLevel)))])]),r("el-form-item",{staticClass:"form-item",attrs:{label:"累计积分:"}},[r("span",[e._v(e._s(e._f("default")(e.ruleForm.accumulatedPoints)))])]),r("el-form-item",{staticClass:"form-item",attrs:{label:"积分排名:"}},[r("span",[e._v(e._s(e._f("default")(e.ruleForm.accumulatedPoints)))])]),r("el-form-item",{staticClass:"form-item",attrs:{label:"可用积分:"}},[r("span",[e._v(e._s(e._f("default")(e.ruleForm.availablePoints)))])])],1),r("span",{staticClass:"title"},[e._v("支云卡信息")]),r("el-divider"),r("div",{staticStyle:{"max-width":"800px"}},[r("el-form-item",{staticClass:"form-item",attrs:{label:"卡号:"}},[r("span",[e._v(e._s(e._f("default")(e.ruleForm.zhiyunCardNum)))])]),r("el-form-item",{staticClass:"form-item",attrs:{label:"办卡时间:"}},[r("span",[e._v(e._s(e._f("default")(e.ruleForm.zhiyunCardOpentime)))])])],1),r("span",{staticClass:"title"},[e._v("常用购票人信息")]),r("el-divider"),r("div",{staticStyle:{"max-width":"800px"}},e._l(e.buyTicketsPeople,(function(t,a){return r("block",{key:a},[r("el-form-item",{staticClass:"form-item",attrs:{label:"姓名:"}},[r("span",[e._v(e._s(e._f("default")(t.userName)))])]),r("el-form-item",{staticClass:"form-item",attrs:{label:"证件类型:"}},[r("span",[e._v(e._s(e._f("default")(t.userCertificateType)))])]),r("el-form-item",{staticClass:"form-item",attrs:{label:"证件号码:"}},[r("span",[e._v(e._s(e._f("default")(t.userCertificateNum)))])])],1)})),1),r("span",{staticClass:"title"},[e._v("收货地址")]),r("el-divider"),e._l(e.addresseeList,(function(t,a){return r("div",{key:a,staticStyle:{"max-width":"800px"}},[r("el-form-item",{staticClass:"form-item",attrs:{label:"收货人:"}},[r("span",[e._v(e._s(e._f("default")(t.contact)))])]),r("el-form-item",{staticClass:"form-item",attrs:{label:"手机号:"}},[r("span",[e._v(e._s(e._f("default")(t.phone)))])]),r("el-form-item",{staticClass:"form-item",attrs:{label:"收货地址:"}},[r("span",[e._v(e._s(t.province.label+t.city.label+t.country.label)+" "+e._s(t.detail))])])],1)}))],2)],1)},l=[],i=(r("4160"),r("d81d"),r("0d03"),r("159b"),r("5530")),s=(r("96cf"),r("1da1")),u=r("da46"),o={computed:{fanClubList:function(){return this.$store.state.common.fanClub},fanClubRegionList:function(){return this.$store.state.common.fanClubRegion}},data:function(){return{id:"",ticketPackageUserDict:u["ticketPackageUserDict"],buyTicketsPeople:[],addresseeList:[],notEdit:!0,ruleForm:{userCertificatePositiveImg:""},rules:{name:[{required:!0,message:"请输入活动名称",trigger:"blur"},{min:3,max:5,message:"长度在 3 到 5 个字符",trigger:"blur"}],region:[{required:!0,message:"请选择活动区域",trigger:"change"}],date1:[{type:"date",required:!0,message:"请选择日期",trigger:"change"}],date2:[{type:"date",required:!0,message:"请选择时间",trigger:"change"}],type:[{type:"array",required:!0,message:"请至少选择一个活动性质",trigger:"change"}],resource:[{required:!0,message:"请选择活动资源",trigger:"change"}],desc:[{required:!0,message:"请填写活动形式",trigger:"blur"}]}}},methods:{vipLevelFormatter:function(e){var t;return console.log(e),u["vipLevelDict"].forEach((function(r,a,l){e!=r.value||(t=r.text)})),t},qrCodeUploadSuccess:function(e){e&&(this.ruleForm.qrCode=e)},getEditInfo:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function r(){var a,l,i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,t.id=e,r.next=4,t.$service.app.user.info.info({id:e});case 4:return a=r.sent,r.next=7,t.$service.app.fanClubRegion.info({id:a.fanClubId});case 7:return l=r.sent,r.next=10,t.$service.app.user.address.page({page:1,size:999,userId:a.id});case 10:i=r.sent,console.log(i),i.list.map((function(e){e.province=JSON.parse(e.province),e.city=JSON.parse(e.city),e.country=JSON.parse(e.country),t.addresseeList.push(e)})),a.fanClubRegion=l.id,a.userCertificateValidity=[new Date(a.userCertificateValidityStart),new Date(a.userCertificateValidityEnd)],t.ruleForm=a,console.log(t.ruleForm),r.next=22;break;case 19:r.prev=19,r.t0=r["catch"](0),t.$message.error(r.t0);case 22:case"end":return r.stop()}}),r,null,[[0,19]])})))()},submitForm:function(e){var t=this;this.$refs[e].validate(function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(r){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!r){e.next=13;break}return e.prev=1,a=Object(i["a"])({},t.ruleForm),e.next=5,t.$service.app.consult.add(a);case 5:t.$emit("update:addDialogShow",!1),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](1),t.$message.error(e.t0);case 11:e.next=15;break;case 13:return console.log("error submit!!"),e.abrupt("return",!1);case 15:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}())},resetForm:function(e){this.$refs[e].resetFields()},userCertificatePositiveImgUploadSuccess:function(){},userCertificateNegativeImgUploadSuccess:function(){},userCertificatePortraitImgUploadSuccess:function(){}}},c=o,n=(r("3c50"),r("2877")),m=Object(n["a"])(c,a,l,!1,null,"497e7280",null);t["default"]=m.exports},da46:function(e,t,r){"use strict";r.r(t),r.d(t,"ticketPackageUserDict",(function(){return a})),r.d(t,"useCcertificationDict",(function(){return l})),r.d(t,"vipLevelDict",(function(){return i})),r.d(t,"zhiyunCardStatusDict",(function(){return s})),r.d(t,"pointsUseDetailTypeDict",(function(){return u})),r.d(t,"goodsTypeDict",(function(){return o})),r.d(t,"orderTypeDict",(function(){return c})),r.d(t,"orderStatusDict",(function(){return n})),r.d(t,"couponTypeDict",(function(){return m}));var a=[{value:0,text:"非套票"},{value:1,text:"基础套票"},{value:2,text:"普通套票"},{value:3,text:"亲子套票"},{value:4,text:"VIP套票"}],l=[{value:0,text:"未认证"},{value:1,text:"已认证"}],i=[{value:0,text:"非会员"},{value:1,text:"白银"},{value:2,text:"白金"},{value:3,text:"钻石"},{value:4,text:"黑金"}],s=[{value:0,text:"非云卡用户"},{value:1,text:"云卡用户"}],u=[{value:1,text:"商城购物"},{value:2,text:"活动打卡"},{value:3,text:"套票充值"},{value:4,text:"远征观赛"},{value:5,text:"商城购物"},{value:6,text:"兑换礼品"}],o=[{value:-1,text:"全部"},{value:0,text:"商城商品"},{value:1,text:"票务商品"},{value:2,text:"积分商品"},{value:3,text:"活动商品"}],c=[{value:0,text:"全部"},{value:1,text:"商城订单"},{value:2,text:"兑换订单"},{value:3,text:"票务订单"}],n=[{value:0,text:"全部"},{value:1,text:"待付款"},{value:2,text:"待发货"},{value:3,text:"待收货"}],m=[{value:-1,text:"全部"},{value:0,text:"满减券"},{value:1,text:"立减券"},{value:2,text:"折扣券"}]}}]);