(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b615ea16"],{"137e":function(t,e,n){"use strict";n.r(e);var l=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"goods-sku-edit"},[t.multiple&&t.selection.length>0?[n("div",{staticClass:"goods-sku-edit__set"},[n("el-divider",{attrs:{"content-position":"left"}},[t._v("批量设置")]),n("el-table",{attrs:{size:"mini",border:"",data:t.batch}},[t._l(t.columns,(function(e,l){return n("el-table-column",{key:l,attrs:{label:e.label,prop:e.prop,"min-width":e.width,align:"center"},scopedSlots:t._u([{key:"default",fn:function(l){return[n("el-row",{attrs:{type:"flex",justify:"center"}},[n(e.component.name,t._b({tag:"component",model:{value:l.row[e.prop],callback:function(n){t.$set(l.row,e.prop,n)},expression:"scope.row[item.prop]"}},"component",e.component.props,!1))],1)]}}],null,!0)})})),n("el-table-column",{attrs:{label:"操作",align:"center",width:"200",fixed:"right"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(n){return t.batchUpdate(e.row)}}},[t._v("批量修改")]),n("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(n){return t.batchClear(e.row)}}},[t._v("清空")])]}}],null,!1,2235032277)})],2)],1)]:t._e(),t.columns.length>0?n("div",{staticClass:"goods-sku-edit__list"},[n("el-divider",{attrs:{"content-position":"left"}},[t._v("商品属性")]),n("el-table",{attrs:{size:"mini",border:"",data:t.list,"max-height":"500px"},on:{"selection-change":t.onSelectionChange}},[t.multiple?[n("el-table-column",{attrs:{fixed:"left",type:"selection",width:"60",align:"center"}}),t._l(t.spec,(function(t){return n("el-table-column",{key:t.value,attrs:{label:t.label,prop:t.value,align:"center","min-width":"80","show-overflow-tooltip":""}})}))]:t._e(),t._l(t.columns,(function(e,l){return n("el-table-column",{key:l,attrs:{label:e.label,prop:e.prop,"min-width":e.width,align:"center"},scopedSlots:t._u([{key:"default",fn:function(l){return[n("el-row",{attrs:{type:"flex",justify:"center"}},[n(e.component.name,t._b({tag:"component",model:{value:l.row[e.prop],callback:function(n){t.$set(l.row,e.prop,n)},expression:"scope.row[item.prop]"}},"component",e.component.props,!1))],1)]}}],null,!0)})})),t.multiple?[n("el-table-column",{attrs:{label:"操作",align:"center",width:"100",fixed:"right"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(n){return t.remove(e.$index)}}},[t._v("删除")])]}}],null,!1,1235992341)})]:t._e()],2)],1):t._e()],2)},i=[],o=(n("7db0"),n("4160"),n("d81d"),n("45fc"),n("a434"),n("159b"),n("2ef0"),{name:"goods-sku-edit",props:{multiple:Boolean,value:{type:Array,default:function(){return[]}},spec:{type:Array,default:function(){return[]}}},computed:{defaultColumn:function(){return this.$store.state.mall.defaultColumn}},data:function(){return{columns:[],list:[],batch:[],selection:[]}},watch:{value:{immediate:!0,handler:function(t){var e=this;this.list=[],this.list=t.map((function(t){var n=e.list.find((function(n){return!e.spec.map((function(t){return t.value})).some((function(e){return t[e]!==n[e]}))}));return n||t})),this.multiple||0!==t.length||(this.list=[this.create()])}},defaultColumn:{immediate:!0,handler:function(t){this.columns=t,console.log(t)}}},created:function(){this.multiple&&(this.batch=[this.create()])},methods:{create:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e={};return this.columns.forEach((function(t){e[t.prop]=t.value})),Object.assign(e,t)},remove:function(t){this.list.splice(t,1)},batchClear:function(){this.batch=[this.create()]},batchUpdate:function(){var t=this;this.selection.map((function(e){for(var n in t.batch[0])e[n]=t.batch[0][n]}))},onSelectionChange:function(t){this.selection=t},validate:function(){return 0!==this.list.length&&this.list}}}),r=o,a=(n("90f1"),n("2877")),c=Object(a["a"])(r,l,i,!1,null,"a793b724",null);e["default"]=c.exports},"90f1":function(t,e,n){"use strict";var l=n("ed54"),i=n.n(l);i.a},ed54:function(t,e,n){}}]);